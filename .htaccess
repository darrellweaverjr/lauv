RewriteEngine On
RewriteCond %{SERVER_PORT} 80
RewriteRule ^(.*)$ https://www.yourdomain.com/$1 [R,L]

RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)/$ /$1 [L,R]

RewriteRule ^([a-zA-Z0-9-]+)$ index.php?profile=$1
RewriteRule ^([a-zA-Z0-9-]+)/$ index.php?profile=$1

ErrorDocument 404 /index.php
